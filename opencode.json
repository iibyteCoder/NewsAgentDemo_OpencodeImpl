{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "web_browser": {
      "type": "local",
      "command": [
        ".venv/Scripts/python.exe",
        "-m",
        "mcp_server.web_browser.main"
      ],
      "enabled": true
    },
    "downloader": {
      "type": "local",
      "command": [
        ".venv/Scripts/python.exe",
        "-m",
        "mcp_server.downloader.main"
      ],
      "enabled": true
    },
    "news_storage": {
      "type": "local",
      "command": [
        ".venv/Scripts/python.exe",
        "-m",
        "mcp_server.news_storage.main"
      ],
      "enabled": true
    }
  },
  "agent": {
    "news-coordinator": {
      "mode": "primary",
      "description": "新闻协调器 - 多类别新闻收集协调器",
      "temperature": 0.2,
      "prompt": "{file:./prompts/coordinator.md}",
      "tools": {
        "write": true,
        "read": true
      },
      "permission": {
        "task": {
          "*": "allow"
        }
      }
    },
    "category-processor": {
      "mode": "subagent",
      "description": "新闻资讯收集智能体 - 单类别处理器",
      "prompt": "{file:./prompts/category-handler.md}",
      "hidden": true,
      "temperature": 0.2,
      "maxSteps": 30,
      "tools": {
        "write": true,
        "edit": true,
        "bash": true,
        "webfetch": false,
        "read": true,
        "grep": true,
        "web-browser*": true,
        "downloader*": true,
        "news-storage*": true,
        "web-browser_fetch_article_content": false
      },
      "permission": {
        "bash": {
          "mkdir *": "allow"
        },
        "task": {
          "*": "allow"
        }
      }
    },
    "news-processor": {
      "mode": "subagent",
      "description": "新闻数据保存专家 - 处理单个新闻链接并保存到数据库",
      "prompt": "{file:./prompts/news-processor.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 8,
      "tools": {
        "read": true,
        "web-browser_fetch_article_content": true,
        "news-storage*": true,
        "downloader*": true
      }
    },
    "event-aggregator": {
      "mode": "subagent",
      "description": "事件聚合器 - 将多条新闻聚合为事件",
      "prompt": "{file:./prompts/news-aggregator.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 10,
      "tools": {
        "read": true,
        "news-storage*": true
      }
    },
    "news-builder": {
      "mode": "subagent",
      "description": "新闻数据收集器 - 收集并分类新闻，保存到数据库",
      "prompt": "{file:./prompts/news-builder.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 15,
      "tools": {
        "read": true,
        "web-browser_multi_search_tool": true,
        "news-storage*": true
      },
      "permission": {
        "task": {
          "news-processor": "allow",
          "news-report-generator": "allow"
        }
      }
    },
    "validator-builder": {
      "mode": "subagent",
      "description": "验证数据收集器 - 验证事件真实性（主动探索型）",
      "prompt": "{file:./prompts/validator-builder.md}",
      "hidden": true,
      "temperature": 0.2,
      "maxSteps": 25,
      "tools": {
        "write": false,
        "edit": false,
        "bash": false,
        "web-browser_multi_search_tool": true,
        "news-storage*": true,
        "web-browser_fetch_article_content": false
      },
      "permission": {
        "task": {
          "news-processor": "allow",
          "validation-report-generator": "allow"
        },
        "bash": {
          "python *": "allow"
        }
      }
    },
    "timeline-builder": {
      "mode": "subagent",
      "description": "时间轴数据收集器 - 构建事件发展脉络（主动探索型）",
      "prompt": "{file:./prompts/timeline-builder.md}",
      "hidden": true,
      "temperature": 0.2,
      "maxSteps": 20,
      "tools": {
        "write": false,
        "edit": false,
        "bash": false,
        "web-browser_multi_search_tool": true,
        "news-storage*": true,
        "web-browser_fetch_article_content": false
      },
      "permission": {
        "task": {
          "news-processor": "allow",
          "timeline-report-generator": "allow"
        },
        "bash": {
          "python *": "allow"
        }
      }
    },
    "predictor-builder": {
      "mode": "subagent",
      "description": "预测数据收集器 - 预测事件未来发展（主动探索型）",
      "prompt": "{file:./prompts/predictor-builder.md}",
      "hidden": true,
      "temperature": 0.3,
      "maxSteps": 25,
      "tools": {
        "write": false,
        "edit": false,
        "bash": false,
        "web-browser_multi_search_tool": true,
        "news-storage*": true,
        "web-browser_fetch_article_content": false
      },
      "permission": {
        "task": {
          "news-processor": "allow",
          "prediction-report-generator": "allow"
        },
        "bash": {
          "python *": "allow"
        }
      }
    },
    "summary-builder": {
      "mode": "subagent",
      "description": "摘要数据收集器 - 从数据库读取新闻并生成摘要",
      "prompt": "{file:./prompts/summary-builder.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 8,
      "tools": {
        "read": true,
        "news-storage*": true
      },
      "permission": {
        "task": {
          "summary-report-generator": "allow"
        }
      }
    },
    "images-builder": {
      "mode": "subagent",
      "description": "图片数据收集器 - 从数据库提取图片URL并下载",
      "prompt": "{file:./prompts/images-builder.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 10,
      "tools": {
        "read": true,
        "bash": true,
        "downloader*": true,
        "news-storage*": true
      },
      "permission": {
        "bash": {
          "mkdir *": "allow"
        },
        "task": {
          "images-report-generator": "allow"
        }
      }
    },
    "event-processor": {
      "mode": "subagent",
      "description": "事件处理器 - 并发处理单个事件的验证、时间轴、预测",
      "prompt": "{file:./prompts/event-analyzer.md}",
      "hidden": true,
      "temperature": 0.2,
      "maxSteps": 25,
      "tools": {
        "write": false,
        "edit": false,
        "bash": false,
        "read": true,
        "news-storage*": true,
        "web-browser_fetch_article_content": false
      },
      "permission": {
        "task": {
          "*": "allow"
        }
      }
    },
    "event-report-generator": {
      "mode": "subagent",
      "description": "事件报告生成器（新版）- 生成单个事件的 Markdown 报告文件",
      "prompt": "{file:./prompts/report-generator.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 20,
      "tools": {
        "write": true,
        "bash": false,
        "read": true
      },
      "permission": {
        "task": {
          "report-assembler": "allow"
        }
      }
    },
    "summary-report-generator": {
      "mode": "subagent",
      "description": "事件摘要报告生成器 - 专门生成事件摘要部分",
      "prompt": "{file:./prompts/summary-report-generator.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 6,
      "tools": {
        "write": true,
        "read": true,
        "news-storage*": true
      }
    },
    "news-report-generator": {
      "mode": "subagent",
      "description": "新闻来源报告生成器 - 专门生成新闻来源部分",
      "prompt": "{file:./prompts/news-report-generator.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 8,
      "tools": {
        "write": true,
        "read": true,
        "news-storage*": true
      }
    },
    "validation-report-generator": {
      "mode": "subagent",
      "description": "真实性验证报告生成器 - 专门生成真实性验证部分",
      "prompt": "{file:./prompts/validation-report-generator.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 8,
      "tools": {
        "write": true,
        "read": true,
        "news-storage*": true
      }
    },
    "timeline-report-generator": {
      "mode": "subagent",
      "description": "事件时间轴报告生成器 - 专门生成事件时间轴部分",
      "prompt": "{file:./prompts/timeline-report-generator.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 8,
      "tools": {
        "write": true,
        "read": true,
        "news-storage*": true
      }
    },
    "prediction-report-generator": {
      "mode": "subagent",
      "description": "趋势预测报告生成器 - 专门生成趋势预测部分",
      "prompt": "{file:./prompts/prediction-report-generator.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 8,
      "tools": {
        "write": true,
        "read": true,
        "news-storage*": true
      }
    },
    "images-report-generator": {
      "mode": "subagent",
      "description": "相关图片报告生成器 - 专门生成相关图片部分",
      "prompt": "{file:./prompts/images-report-generator.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 8,
      "tools": {
        "write": true,
        "read": true,
        "news-storage*": true
      }
    },
    "report-assembler": {
      "mode": "subagent",
      "description": "报告组装器 - 纯文件操作，组装各部分为最终报告",
      "prompt": "{file:./prompts/report-assembler.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 15,
      "tools": {
        "write": true,
        "bash": true,
        "read": true
      },
      "permission": {
        "bash": {
          "mkdir *": "allow",
          "python *": "allow",
          "cat *": "allow",
          "ls *": "allow",
          "rm *": "allow"
        }
      }
    },
    "synthesizer": {
      "mode": "subagent",
      "description": "类别索引生成器 - 生成类别级的index.md索引文件",
      "prompt": "{file:./prompts/category-indexer.md}",
      "hidden": true,
      "temperature": 0.1,
      "maxSteps": 15,
      "tools": {
        "write": true,
        "bash": true,
        "read": true,
        "news-storage*": true
      },
      "permission": {
        "bash": {
          "ls": "allow",
          "mkdir *": "allow"
        }
      }
    }
  }
}